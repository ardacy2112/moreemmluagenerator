<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MOREEMM Lua Generator</title>

<style>
*{box-sizing:border-box;font-family:Segoe UI,Arial}

body{
margin:0;
background:#020617;
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
overflow:hidden;
}

.rgb{
position:fixed;
inset:0;
background:linear-gradient(270deg,#22c55e,#0ea5e9,#a855f7,#22c55e);
background-size:600% 600%;
animation:flow 12s ease infinite;
opacity:.18;
}

@keyframes flow{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}

.app{
background:#0f172a;
padding:42px;
width:520px;
border-radius:24px;
box-shadow:0 0 40px #22c55e66;
z-index:2;
text-align:center;
}

.logo{
font-size:36px;
font-weight:900;
background:linear-gradient(90deg,#22c55e,#0ea5e9,#a855f7);
-webkit-background-clip:text;
color:transparent;
margin-bottom:20px;
}

input{
width:100%;
padding:15px;
border-radius:14px;
border:none;
background:#020617;
color:white;
font-size:16px;
outline:none;
}

button{
margin-top:16px;
width:100%;
padding:15px;
border-radius:16px;
border:none;
background:linear-gradient(90deg,#22c55e,#0ea5e9,#a855f7);
font-weight:900;
cursor:pointer;
}

.console{
margin-top:20px;
background:#020617;
border-radius:16px;
padding:14px;
height:180px;
overflow:auto;
font-family:monospace;
box-shadow:inset 0 0 14px #000;
text-align:left;
}

.line{color:#22c55e}

/* POPUP */

.popup{
position:fixed;
top:-100%;
inset-inline:0;
bottom:0;
background:rgba(2,6,23,.92);
display:flex;
justify-content:center;
align-items:center;
transition:.8s cubic-bezier(.2,1,.2,1);
z-index:10;
}

.popup.show{top:0}

.popup-box{
background:#0f172a;
padding:40px;
border-radius:24px;
box-shadow:0 0 45px #a855f7aa;
text-align:center;
max-width:440px;
}

.popup h2{
background:linear-gradient(90deg,#22c55e,#0ea5e9,#a855f7);
-webkit-background-clip:text;
color:transparent;
}

.fade{opacity:0;pointer-events:none;transition:.6s}
</style>
</head>
<body>

<div class="rgb"></div>

<div id="popup" class="popup show">
<div class="popup-box">
<h2>MOREEMM Disclaimer</h2>
<p>This website and tools are for educational purposes only.<br>Use at your own responsibility.</p>
<p style="opacity:.6">¬© 2026 MOREEMM</p>
<button onclick="accept()">I Understand</button>
</div>
</div>

<div class="app">
<div class="logo">MOREEMM</div>

<input id="appid" placeholder="Enter Steam AppID">

<button onclick="generate()">Generate Lua ZIP</button>

<div id="console" class="console"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<script>
let depotKeys={}

async function loadKeys(){
 try{
  let r=await fetch("https://raw.githubusercontent.com/SteamAutoCracks/ManifestHub/main/depotkeys.json")
  depotKeys=await r.json()
 }catch{}
}
loadKeys()

function accept(){
 document.getElementById("popup").classList.add("fade")
 setTimeout(()=>document.getElementById("popup").style.display="none",600)
}

function log(t){
 let c=document.getElementById("console")
 let d=document.createElement("div")
 d.className="line"
 d.textContent=t
 c.appendChild(d)
 c.scrollTop=c.scrollHeight
}

async function generate(){
 const id=document.getElementById("appid").value.trim()
 if(!id) return log("‚ùå Enter AppID first")

 log("üîç Connecting to Steam API...")

 try{
 const r=await fetch("https://api.steamcmd.net/v1/info/"+id)
 const j=await r.json()

 log("‚úÖ Data loaded")
 log("‚öô Building Lua...")

 let depots=j.data[id].depots
 let lua=`-- Generated by MOREEMM\naddappid(${id})\n`

 for(let d in depots){
   if(!depots[d].manifests) continue
   let manifest=depots[d].manifests.public.gid
   let key=depotKeys[d] || ""
   lua+=`addappid(${d}, 1, "${key}")\n`
   lua+=`setManifestid(${d},"${manifest}")\n`
 }

 const zip=new JSZip()
 zip.file(id+".lua",lua)

 const blob=await zip.generateAsync({type:"blob"})
 const a=document.createElement("a")
 a.href=URL.createObjectURL(blob)
 a.download=id+".zip"
 a.click()

 log("üì¶ "+id+".zip downloaded successfully")

 }catch{
 log("‚ùå Steam API failed")
 }
}
</script>

</body>
</html>
