<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MOREEMM Lua Generator</title>

<style>
body{
margin:0;
background:#020617;
color:white;
font-family:Segoe UI;
overflow:hidden;
}

.rgb{
position:fixed;
inset:0;
background:linear-gradient(270deg,#22c55e,#0ea5e9,#a855f7);
background-size:600% 600%;
animation:rgb 10s infinite;
opacity:.18;
}
@keyframes rgb{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}

.box{
width:480px;
margin:8% auto;
background:#0f172a;
padding:32px;
border-radius:20px;
box-shadow:0 0 35px #22c55e77;
z-index:2;
position:relative;
}

input,button{
width:100%;
padding:14px;
border-radius:12px;
border:none;
margin-top:12px;
background:#020617;
color:white;
}

button{
background:linear-gradient(90deg,#22c55e,#0ea5e9,#a855f7);
color:black;
font-weight:900;
cursor:pointer;
}

.console{
background:#020617;
height:160px;
margin-top:16px;
padding:10px;
border-radius:12px;
font-family:monospace;
overflow:auto;
}

/* DISCLAIMER */

.popup{
position:fixed;
top:-100%;
inset:0;
background:rgba(2,6,23,.95);
display:flex;
align-items:center;
justify-content:center;
transition:.8s cubic-bezier(.2,1,.2,1);
z-index:99;
}

.popup.show{top:0}

.popup-box{
background:#0f172a;
padding:40px;
border-radius:22px;
text-align:center;
box-shadow:0 0 40px #a855f7aa;
max-width:420px;
}

.popup h2{
background:linear-gradient(90deg,#22c55e,#0ea5e9,#a855f7);
-webkit-background-clip:text;
color:transparent;
}

.fade{opacity:0;pointer-events:none;transition:.6s}
</style>
</head>
<body>

<div class="rgb"></div>

<div id="popup" class="popup show">
<div class="popup-box">
<h2>Disclaimer</h2>
<p>This tool is for educational purposes only.<br>Use at your own responsibility.</p>
<p style="opacity:.7">¬© 2026 MOREEMM</p>
<button onclick="accept()">I Understand</button>
</div>
</div>

<div class="box">
<h2>MOREEMM LUA GENERATOR</h2>

<input id="appid" placeholder="Steam AppID">

<button onclick="generate()">Generate ZIP</button>

<div id="console" class="console"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<script>
const KEY_URL="https://raw.githubusercontent.com/SteamAutoCracks/ManifestHub/main/depotkeys.json";
const consoleBox=document.getElementById("console");

function log(t){
 let d=document.createElement("div");
 d.textContent=t;
 consoleBox.appendChild(d);
 consoleBox.scrollTop=9999;
}

function accept(){
 document.getElementById("popup").classList.add("fade");
 setTimeout(()=>popup.style.display="none",600);
}

async function generate(){
 let id=appid.value.trim();
 if(!id) return;

 log("Loading depot keys...");
 let keys=await fetch(KEY_URL).then(r=>r.json());

 log("Loading Steam data...");
 let json=await fetch("https://api.steamcmd.net/v1/info/"+id).then(r=>r.json());

 let depots=json.data[id].depots;
 if(!depots){ log("‚ùå No depots found"); return;}

 let lua=[];
 lua.push("-- Generated by MOREEMM");
 lua.push(`addappid(${id})`);

 for(let d in depots){
   let depot=depots[d];
   if(!depot.manifests || !depot.manifests.public) continue;

   let manifest=depot.manifests.public.gid;
   let key=keys[d] || "";

   lua.push(`addappid(${d}, 1, "${key}")`);
   lua.push(`setManifestid(${d},"${manifest}")`);
 }

 log("Lua built successfully ‚úî");

 let zip=new JSZip();
 zip.file(id+".lua", lua.join("\n"));

 let blob=await zip.generateAsync({type:"blob"});
 let a=document.createElement("a");
 a.href=URL.createObjectURL(blob);
 a.download=id+".zip";
 a.click();

 log("ZIP downloaded üì¶");
}
</script>

</body>
</html>
