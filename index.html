<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>MOREEMM LUA GENERATOR</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<style>
body{
background:#0b1220;color:white;font-family:Segoe UI;
display:flex;justify-content:center;align-items:center;height:100vh}
.panel{
background:#121a2f;padding:30px;width:420px;border-radius:18px;
box-shadow:0 0 30px black;text-align:center}
h1{color:#22c55e}
input,button{width:100%;padding:12px;border-radius:10px;border:none;margin-top:10px}
button{background:#22c55e;font-weight:bold;cursor:pointer}
.bar-wrap{background:#1e293b;border-radius:20px;margin-top:15px;overflow:hidden}
.bar{height:18px;width:0%;background:#22c55e;transition:.4s}
.log{background:#020617;margin-top:15px;padding:10px;border-radius:10px;height:140px;overflow:auto;font-size:13px}
</style>
</head>
<body>

<div class="panel">
<h1>MOREEMM LUA</h1>
<input id="appid" placeholder="Enter AppID">
<button onclick="run()">Generate LUA ZIP</button>
<div class="bar-wrap"><div class="bar" id="bar"></div></div>
<div class="log" id="log"></div>
</div>

<script>
const DEPOTKEY_URL = "https://raw.githubusercontent.com/SteamAutoCracks/ManifestHub/main/depotkeys.json";

function log(t){document.getElementById("log").innerHTML+=t+"<br>";}

async function run(){
 let appid=document.getElementById("appid").value.trim();
 if(!appid) return;

 let bar=document.getElementById("bar");
 bar.style.width="15%"; log("üîé Fetching Steam data...");

 let steam=await fetch(`https://api.steamcmd.net/v1/info/${appid}`).then(r=>r.json());
 if(!steam.data||!steam.data[appid]){log("‚ùå App not found");return;}

 bar.style.width="40%"; log("üîë Loading depot keys...");
 let keys=await fetch(DEPOTKEY_URL).then(r=>r.json());

 let depots=steam.data[appid].depots;
 let lua=`-- Generated by MOREEMM LUA GENERATOR\naddappid(${appid})\n`;

 let count=0;
 for(let id in depots){
   let m=depots[id].manifests?.public?.gid;
   if(!m) continue;
   lua+=`addappid(${id},1,"${keys[id]||""}")\n`;
   lua+=`setManifestid(${id},"${m}")\n`;
   count++;
 }

 if(!count){log("‚ùå No depots found");return;}

 bar.style.width="80%"; log(`üì¶ ${count} depots added`);

 let zip=new JSZip();
 zip.file(`${appid}.lua`,lua);

 let blob=await zip.generateAsync({type:"blob"});
 let a=document.createElement("a");
 a.href=URL.createObjectURL(blob);
 a.download=`${appid}.zip`;
 a.click();

 bar.style.width="100%"; log("‚úÖ ZIP downloaded");
}
</script>

</body>
</html>
