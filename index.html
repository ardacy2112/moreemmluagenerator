<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MOREEMM RGB Generator</title>
<style>
body{
background:#050505;
font-family:Arial;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
color:white;
}

.neon{
background:#0f0f0f;
padding:30px;
border-radius:16px;
box-shadow:
0 0 15px #00f,
0 0 30px #0ff,
0 0 60px #f0f;
animation:glow 3s infinite alternate;
width:540px;
}

@keyframes glow{
0%{box-shadow:0 0 10px #00f}
50%{box-shadow:0 0 30px #0ff}
100%{box-shadow:0 0 50px #f0f}
}

input,textarea,button{
width:100%;
margin-top:10px;
padding:12px;
border-radius:10px;
border:none;
background:#111;
color:white;
}

button{
background:linear-gradient(90deg,#00f,#0ff,#f0f);
cursor:pointer;
font-weight:bold;
}

textarea{
height:240px;
resize:none;
}

.popup{
position:fixed;
inset:0;
background:rgba(0,0,0,.85);
display:flex;
justify-content:center;
align-items:center;
}

.popupBox{
background:#111;
padding:25px;
border-radius:15px;
text-align:center;
width:420px;
box-shadow:0 0 20px #0ff;
}
</style>
</head>
<body>

<div class="popup" id="disclaimer">
  <div class="popupBox">
    <h2>MOREEMM Disclaimer</h2>
    <p>Educational purposes only.</p>
    <button onclick="closePopup()">I Understand</button>
  </div>
</div>

<div class="neon">
<h2>MOREEMM LUA Generator</h2>

<input id="appid" placeholder="Enter Steam AppID">

<button onclick="generate()">Generate & Download ZIP</button>

<textarea id="preview"></textarea>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<script>
let depotKeys={}

async function loadKeys(){
 const r=await fetch("https://raw.githubusercontent.com/SteamAutoCracks/ManifestHub/main/depotkeys.json")
 depotKeys=await r.json()
}
loadKeys()

function closePopup(){
 document.getElementById("disclaimer").style.display="none"
}

async function generate(){
 const appid=document.getElementById("appid").value.trim()
 if(!appid) return

 const r=await fetch(`https://api.steamcmd.net/v1/info/${appid}`)
 const j=await r.json()

 let depots=j.data[appid].depots

 let lua=`-- Generated by MOREEMM\naddappid(${appid})\n`

 for(let d in depots){
   if(!depots[d].manifests) continue
   let manifest=depots[d].manifests.public.gid
   let key=depotKeys[d] || ""
   lua+=`addappid(${d}, 1, "${key}")\n`
   lua+=`setManifestid(${d},"${manifest}")\n`
 }

 document.getElementById("preview").value=lua

 const zip=new JSZip()
 zip.file("appid.lua",lua)

 const blob=await zip.generateAsync({type:"blob"})
 const a=document.createElement("a")
 a.href=URL.createObjectURL(blob)
 a.download="MOREEMM_AppID.zip"
 a.click()
}
</script>

</body>
</html>
